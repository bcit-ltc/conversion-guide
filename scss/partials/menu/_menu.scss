$menu-width: 280px;
$menu-transition-speed: .3s ease-out;
.nav-bar,
.branding {
	.menu-button {
		cursor: pointer;
		outline: none;
		padding: 0;
		border: 0;
		margin: 0;
		background: none;
	}
}

.nav-bar {
	position: fixed;
	z-index: $z-nav-bar;
	top: -100%;
	right: 0;
	width: 100%;
	padding-top: 7px;
	padding-bottom: 9px;
	padding-left: 26px;
	background: $nav-bar-background-color;
	&.showing {
		top: 0;
		z-index: 1000000;
	}
	.menu-button {
		height: 35px;
		width: 35px;
		padding: 4px 5px;
		border-radius: 5px;
		transition: background .5s ease;
		path {
			fill: $nav-bar-menu-button-fill-color;
			transition: fill .5s ease;
		}
		&:hover,
		&:focus {
			background: $nav-bar-menu-button-fill-color;
			path {
				fill: $nav-bar-background-color;
			}
		}
	}
	.nav-bar-title {
		border: none;
		color: white;
		font-family: 'Oswald', sans-serif;
		font-size: 27px;
		margin-left: 20px;
		font-weight: 400;
		>a {
			&:link,
			&:visited,
			&:hover,
			&:active {
				color: white;
			}
		}
		&:after {
			content: "Course Production - Conversion Guide";
			@include media("screen", "<550px") {
				content: "Conversion Guide";
			}
		}
	}
}

.marker-link {
	float: right;
	padding: 2px 4px;
	color: $nav-bar-marker-quick-ref-link-color !important;
	text-decoration: none !important;
	a {
		color: $nav-bar-marker-quick-ref-link-color !important;
		border-bottom: none;
		&:visited {}
		&:hover,
		&:focus {
			color: $sky-light;
			border-bottom: none;
		}
		&:link {
			border-bottom: none !important;
		}
	}
}

#close-menu {
	position: absolute;
	top: 20px;
	right: 10px;
	z-index: 9999999;
	background-color: blue !important;
	border: none;
	text-indent: -999999px;
	display: block;
	height: 30px;
	width: 30px;
	&:before {
		position: absolute;
		top: 0;
		left: 0;
		content: "X";
		padding-left: 10px;
		text-indent: 0px;
		display: block;
	}
}

$branding-bcit-logo-size: 80px;
.branding {
	padding: 30px 0;
	position: relative;
	display: inline-block;
	width: 100%;
	.menu-button {
		float: left;
		height: 40px;
		width: 40px;
		margin-left: 30px;
		margin-top: 23px;
		background: transparent;
		transition: background .5s ease;
		padding: 5px;
		border-radius: 5px;
		path {
			transition: fill .5s ease;
			fill: $default-text-color;
		}
		&:hover,
		&:focus {
			background: $default-text-color;
			path {
				fill: $body-background-color;
			}
		}
		@include media("screen", "<500px") {
			margin: 11px 30px;
			margin-right: 1em;
		}
	}
	.bcit-logo {
		float: left;
		background-image: url(../assets/bcit-logo.svg);
		background-size: cover;
		margin-left: 30px;
		margin-right: 10px;
		position: relative;
		height: $branding-bcit-logo-size;
		width: $branding-bcit-logo-size;
		@include media("screen", "<620px") {
			display: none;
		}
	}
	.site-title-head, .site-title-content {
		float: left;
		color: $bcit-blue;
		font-family: 'Oswald', sans-serif;
		font-size: 26px;
		font-weight: 400;
		padding-top: 22px;
		@include media("screen", "<500px") {
			float: none;
			display: block;
			margin: 0 auto;
			padding-top: 10px;
		}
	}
	.site-title-head {
		margin-right: 5px;
		@include media("screen", "<620px") {
			margin-left: 20px;
		}
	}
}

a.marker-reference {
	float: right;
	margin-top: 6px;
	margin-right: 15px;
	&:link {
		border-bottom: none;
	}
	&:hover,
	&:focus {
		border-bottom: 1px solid white;
	}
	
	span {
		font-family: 'Oswald', sans-serif;
		font-size: 20px;
		font-weight: 400;
		color: white;
		
	}
	.marker {
		display: none;
	}
	@include media("screen", "<650px") {
		span {
			display: none;
		}
		.marker {
			display: inline;
			font-size: 22px;
			font-style: italic;
			font-weight: bold;
			color: $bcit-blue;
			background-color: white;
			border-radius: 25%;
			padding: 0 7px;
		}
	}
}

// Appearance
.menu {
	color: white;
	//	box-shadow: 1px 1px 7px gray;
	background: $menu-background-color;
	border-right: 1px solid #cecece;
	ul {
		list-style-type: none;
		left: 0;
		width: 100%;
		margin-right: 0;
		padding-right: 0;
		padding-left: 15px;
	}
	a {
		padding: 2px 5px;
		color: $menu-link-default-color;
		border-bottom: none;
		text-decoration: none;
		&:visited {}
		&:hover,
		&:focus {
			color: $sky-light;
		}
	}
	//    h3 {
	//        margin-top: 1em;
	//    }
	li {
		.current {
			position: relative;
			background: white;
			display: block;
			width: 100%;
			&:after {
				content: "";
				display: block;
				background: $sky;
				width: 5px;
				height: 100%;
				position: absolute;
				right: 0;
				top: 0;
			}
		}
	}
	.section {
		margin-top: 20px;
		&:first-child {
			margin-top: 15px;
		}
		// Section Headings
		>a {
			//			color: #838383;
			font-size: 19px;
			font-weight: bold;
			text-transform: uppercase;
		}
	}
	.alt-menu-links {
		margin: 2em auto;
		font-size: 85%;
	}
}

// Behaviour
.menu {
	position: fixed;
	z-index: $z-menu;
	top: 0;
	left: -1 * $menu-width - 10px;
	width: $menu-width;
	max-width: 85%;
    overflow: hidden;
	.scrolling {
		overflow-y: scroll;
		position: relative;
        height: 100%;
        width: calc(100% + 17px);
        padding-left: 17px;
        margin-right: 17px;
	}
		// @include media("screen", ">1400px") {
		// 	top: 0;
		// 	left: 0;
		// }

		// @include media("screen", "<420px") {
		// 	width: 100%;
		// 	left: -110%;
		// }

		// &.active {
		// 	left: 0px;
		// }
}

// Animations
.menu {
	transition: left $menu-transition-speed;
}

.wrapper {
	transition: width $menu-transition-speed;
}

.nav-bar {
	transition: width $menu-transition-speed, top .25s ease-out;
}

.menu-open {
	.menu {
		left: 0px;
	}
	.wrapper {
		@include media("screen", ">1100px") {
			width: calc(100% - #{$menu-width}) !important;
		}
	}
	@include media("screen", ">1100px") {
		.nav-bar {
			width: calc(100% - #{$menu-width}) !important;
		}
	}
}

.menu a.new {
	position: relative;
	&:after {
		content: "NEW";
		color: white;
//			background: #0072CE;
//			background: #fb9100;
//			background: #ce4c00;
		background: #1ea3cb;
		padding: 1px 7px 2px;
		border-radius: 25%;
		font-size: 10px;
		top: -2px;
		font-weight: bold;
		position: relative;
		margin-left: 4px;
	}
}
	.menu-overlay {
		visibility: hidden;
		opacity: 0;
		background-color: rgba(0, 0, 0, 0.5);
		position: fixed;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 4;
		cursor: pointer;
		transition: all 0.3s ease-out;
	}